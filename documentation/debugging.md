---
title   : Debugging
anchors : true
---


# Debugging

**mediasoup** uses the [debug](https://www.npmjs.com/package/debug) module to log internal information. The JavaScript layer of **mediasoup** produces its own logs and also collects logs generated by the media handler subprocesses.

There are three log severities:

* INFO: verbose information logged to `stdout`
* WARN: warning messages logged to `stderr`
* ERROR: error messages logged to `stderr`

All the logs generated by **mediasoup** have a namespace starting with "mediasoup" plus colon, followed by the log severity plus colon (just if WARN or ERROR), and followed by the internal component name (if any).

Logging example:

```
mediasoup mediasoup version X.Y.Z +0ms
mediasoup Server() [options:{ numWorkers: 1, logLevel: 'debug', rtcListenIPv4: '1.2.3.4' }] +10ms
mediasoup:Server constructor() [options:{ numWorkers: 1, logLevel: 'debug', rtcListenIPv4: '1.2.3.4' }] +13ms
mediasoup:Worker constructor() [id:djpfdwsd#1, parameters:"--logLevel=debug --rtcListenIPv4=1.2.3.4 --rtcMinPort=10000 --rtcMaxPort=59999 --rtcMinPort=10000 --rtcMaxPort=59999"] +2ms
mediasoup:Channel constructor() +6ms
mediasoup:Server Room() [options:{}] +1ms
mediasoup:Worker Room() [options:{}] +1ms
mediasoup:Room constructor() [internal:{ roomId: 69995289 }] +1ms
mediasoup:Channel request() [method:worker.createRoom, id:97640353] +0ms
mediasoup:ERROR:mediasoup-worker [id:djpfdwsd#1] Settings::SetRtcListenIPv4() | throwing MediaSoupError | cannot bind on '1.2.3.4' for rtcListenIPv4: Can't assign requested address +23ms
mediasoup:ERROR:mediasoup-worker [id:djpfdwsd#1] main::main() | configuration error: cannot bind on '1.2.3.4' for rtcListenIPv4: Can't assign requested address +1ms
mediasoup:Channel channel ended by the other side +79ms
mediasoup:ERROR:Worker child process exited [id:djpfdwsd#1, code:1, signal:null] +2ms
mediasoup:ERROR:Worker close() [error:Error: child process exited [id:djpfdwsd#1, code:1, signal:null]] +0ms
mediasoup:Room close() +1ms
mediasoup:Channel close() +1ms
mediasoup:Server latest Worker closed [error:Error: child process exited [id:djpfdwsd#1, code:1, signal:null]] +1ms
mediasoup:ERROR:Server close() [error:Error: child process exited [id:djpfdwsd#1, code:1, signal:null]] +0ms
mediasoup:ERROR:Worker "worker.createRoom" request failed: InvalidStateError: Channel closed +1ms
mediasoup:ERROR:Room close() [error:InvalidStateError: Channel closed] +0ms
```


## Enable logging

By default logging is turned off. In order to enable it the `DEBUG` environment variable must be set *before* loading **mediasoup** (or any other library also using the **debug** module).

<div markdown='1' class='note'>
Check the [debug](https://www.npmjs.com/package/debug) module documentation for further information regarding how to filter specific log messages based on namespace matching rules.
</div>

Log messages generated by the media handler subprocesses deserve a special treatment. They are just generated if their severity is equal or higher than the given [logLevel](/api/#mediasoup-Server-options), but they are just logged if the value of the `DEBUG` environment variable matches their namespace.

Logs generated by the media handler subprocesses can have the following namespaces:

* "mediasoup:mediasoup-worker"
* "mediasoup:WARN:mediasoup-worker"
* "mediasoup:ERROR:mediasoup-worker"


## Examples

* Set `DEBUG` environment variable before running `node`:

```bash
$ export DEBUG="mediasoup*"
$ node myapp.js

# or:

$ DEBUG="mediasoup*" node myapp.js
```

* Set the `DEBUG` environment variable in Node.js before loading **mediasoup**:

```javascript
process.env.DEBUG = 'mediasoup*'

var mediasoup = require('mediasoup');
```

* Log everything (including logs generated by other libraries using the **debug** module such as [Express](http://expressjs.com/en/guide/debugging.html)):

```bash
$ export DEBUG="*"
```

* Just log messages generated by **mediasoup**:

```bash
$ export DEBUG="mediasoup*"
```

* Just log WARN and ERROR messages generated by **mediasoup**:

```bash
$ export DEBUG="mediasoup:WARN:*,mediasoup:ERROR:*"
```
